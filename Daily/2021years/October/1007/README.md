# 페인트

**레이아웃 과정에서 렌더링 엔진이 각 요소들이 어떻게 생겼고 이를 어떻게 보여 주지 알게 되면 마지막으로 화면에 실제 픽셀로 그려지도록 변환하는 과정을 거치는데 이것이 페인트 과정이다.**

레이아웃 계산이 완료되어 렌더링 트리의 각 노드를 화면에 실제 픽셀로 변환해 화면에 그리는 단계이다.이 과정에서 렌더 트리에 포함된 요소들이나 텍스트, 이미지들이 실제 픽셀로 그려진다.

repaint 역시 최초 한 번만 실행되고 끝나지 않고 reflow 가 발생했을 때는 반드시 화면을 다시 그려야 하기 때문에 실행되고, reflow가 일어나지 않더라도 상술한 속성이 변경되면 역시 화면을 다시 그려야 하기 때문에 실행된다.

페이지를 인터랙팅하면서,유저는 이벤트를 발생시킬 수 있다. 몇 이벤트들은 페이지 레이아웃과 스타일을 변경시킬 수 있고, 스크립트에 따라서 브라우저는 비트맵과 compositor frames을 스크린에 전달하기 위해 렌더링을 여러번 해야할 수도 있다.

보통은, 페이지 업데이트는 보통 자바스크립트의 실행으로 일어난다. 화면에 나타나는 부분에 변화가 생기면 어떤 변화인지에 따라 reflow와 repaint가 발생하거나 또는 repaint가 발생한다. 크게 3가지 경우로 동작하는데,

1. 다시 layout이 발생하는 경우주로 요소의 크기나 위치가 바뀔 때, 혹은 브라우저 창의 크기가 바뀌었을 때 그림의 순서에 따라서 레이아웃이 다시 발생한다.

이 때 레이아웃 수치를 다시 계산해서 배치를 해야하기 때문에 레이아웃 과정에 다시 발생하고 이에 맞춰서 다시 페인트도 해줘야 하고 마지막으로 레이어를 합성하는 과정까지 발생한다.

1. Paint 부터 다시 발생하는 경우이 때는 주로 배경 이미지나 텍스트 색상, 그림자 등 실제 레이아웃의 수치를 변화시키지 않는 스타일의 변경이 일어났을 때 발생한다.

이와 같은 경우는 레이아웃 과정이 발생하지 않기 때문에 성능상으로 조금 더 이점을 가진다.

1. 레이어의 합성만 다시 발생하는 경우

[https://velog.io/@itssweetrain/Reflow-와-Repaint](https://velog.io/@itssweetrain/Reflow-%EC%99%80-Repaint)
